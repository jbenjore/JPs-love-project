<!DOCTYPE html>
<html>
<head>
  <%= yield :head %>
  <title>Coffee Compass</title>
  <%= stylesheet_link_tag 'scaffold' %>
  <%= stylesheet_link_tag 'application' %>
  <%= stylesheet_link_tag 'forms' %>
  <%= stylesheet_link_tag 'gmaps' %>
  <%= stylesheet_link_tag 'coffee' %>
  <%= javascript_include_tag :defaults %>
  <%= csrf_meta_tag %>

  <meta property="title" content="<%= @page_title || DEFAULT_PAGE_TITLE %>"/>
  <meta property="description" content="<%= @page_description || DEFAULT_PAGE_DESCRIPTION %>"/>
  
  <%= content_for :page_specific_head %>
  

</head>
<body>

<div class="page_content">
  <%= image_tag "header.gif" %>
  <div id="user_nav">

    <%= link_to 'Home', '/' %> |
    <%= link_to 'Shop', '/shops' %> |
    <%= link_to 'Reviews', '/reviews' %> |
    <%= link_to 'Baristas', '/barista' %> |
    <% if user_signed_in? %>
    	<% if current_user.admin %>
    		<%= link_to 'Admin', '#' %> |
    	<% end %>
        <%= link_to 'Sharing', sharings_path %> |
        <%= link_to 'Profile', profile_path(current_user) %> |
        <%= link_to 'Edit Profile', edit_user_registration_path(current_user) %> |
        <%= link_to 'My Locations', '/user_locations' %> |
        <%= link_to "Sign out", destroy_user_session_path %>
    <% else %>
        <%= link_to "Sign up", new_user_registration_path %> |
        <%= link_to "sign in", new_user_session_path %>
    <% end %>
  </div>
  <%= raw notice_html %>
  <%= raw alert_html %>

  <%= yield %>
	 
</div>

<div class="footer">
  <%= yield :scripts %>
  <!--
  --SESSION-- <%= debug session %> 
  --PARAMS-- <%= debug params %>
  --current_user-- <%= debug current_user %>
  -->
</div>

<script type="text/javascript" src="http://platform.twitter.com/widgets.js">
</script>

<script src="http://connect.facebook.net/en_US/all.js#xfbml=1"></script>
<!--
TODO:
  ADD Calibration FAQ
  Lock down admin and reviewer Controler: actions, get with JP?
  is there and easy way for this?
  an application function?
  
  Make pretty. nick?
  Set a score that shops won't show below. where is this stored? DB?
  same with baristas.
  
  when non admin/reviewer signed in, don't show inactive shops. (or shops below the minScore)
  make shops/ map prettier and add labels.
  profile save pictures.
  add pictures to reviews (drink).
  add pictures to shops.
  add pictures to baristas.
  
  show scores in 0-100 range? (option for 0-6?)
  debugging: show all queries that ran?
  v2 - directions to shops?
  Add city, like yelp?
  user favorite shops?
  
  user checkins.
  
  homepage: 
    add most recent reviews, 10?
    highest shops?
    highest baristas?
    
    limit google maps when there gets to be many shops. 
    pick a random shop and show x miles around it. (if not logged in, or no location set)
    
 baristas don't show up if they don't hit a score?
  -how do we handle this? grey the name out? don't show the name at all?
  -how do we handle the extreme situation of privacy from an abusive stalker?
    - opt in? 
    - barista can opt out when ever they want.
  
 badges
  - have lots of easy badges
  - lots of med
  - lots of hard
  
  - 1st check in
  - venture x miles away (multiple - 10, 100, 1000?)
  - 1st favorite
  - 1st location
  - coffee events! Coffee fest, etc.
  
  
  
-->
</body>
</html>
